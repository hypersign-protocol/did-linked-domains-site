{"ast":null,"code":"/*\n * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.\n */\n'use strict';\n\nrequire(\"core-js/modules/es.array.push.js\");\nconst {\n  isSubjectReference: _isSubjectReference\n} = require('./graphTypes');\nconst {\n  createMergedNodeMap: _createMergedNodeMap\n} = require('./nodeMap');\nconst api = {};\nmodule.exports = api;\n\n/**\n * Performs JSON-LD flattening.\n *\n * @param input the expanded JSON-LD to flatten.\n *\n * @return the flattened output.\n */\napi.flatten = input => {\n  const defaultGraph = _createMergedNodeMap(input);\n\n  // produce flattened output\n  const flattened = [];\n  const keys = Object.keys(defaultGraph).sort();\n  for (let ki = 0; ki < keys.length; ++ki) {\n    const node = defaultGraph[keys[ki]];\n    // only add full subjects to top-level\n    if (!_isSubjectReference(node)) {\n      flattened.push(node);\n    }\n  }\n  return flattened;\n};","map":{"version":3,"names":["require","isSubjectReference","_isSubjectReference","createMergedNodeMap","_createMergedNodeMap","api","module","exports","flatten","input","defaultGraph","flattened","keys","Object","sort","ki","length","node","push"],"sources":["/home/pratap/hid-ssi-js-sdk/node_modules/jsonld/lib/flatten.js"],"sourcesContent":["/*\n * Copyright (c) 2017 Digital Bazaar, Inc. All rights reserved.\n */\n'use strict';\n\nconst {\n  isSubjectReference: _isSubjectReference\n} = require('./graphTypes');\n\nconst {\n  createMergedNodeMap: _createMergedNodeMap\n} = require('./nodeMap');\n\nconst api = {};\nmodule.exports = api;\n\n/**\n * Performs JSON-LD flattening.\n *\n * @param input the expanded JSON-LD to flatten.\n *\n * @return the flattened output.\n */\napi.flatten = input => {\n  const defaultGraph = _createMergedNodeMap(input);\n\n  // produce flattened output\n  const flattened = [];\n  const keys = Object.keys(defaultGraph).sort();\n  for(let ki = 0; ki < keys.length; ++ki) {\n    const node = defaultGraph[keys[ki]];\n    // only add full subjects to top-level\n    if(!_isSubjectReference(node)) {\n      flattened.push(node);\n    }\n  }\n  return flattened;\n};\n"],"mappings":"AAAA;AACA;AACA;AACA,YAAY;;AAACA,OAAA;AAEb,MAAM;EACJC,kBAAkB,EAAEC;AACtB,CAAC,GAAGF,OAAO,CAAC,cAAc,CAAC;AAE3B,MAAM;EACJG,mBAAmB,EAAEC;AACvB,CAAC,GAAGJ,OAAO,CAAC,WAAW,CAAC;AAExB,MAAMK,GAAG,GAAG,CAAC,CAAC;AACdC,MAAM,CAACC,OAAO,GAAGF,GAAG;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,GAAG,CAACG,OAAO,GAAGC,KAAK,IAAI;EACrB,MAAMC,YAAY,GAAGN,oBAAoB,CAACK,KAAK,CAAC;;EAEhD;EACA,MAAME,SAAS,GAAG,EAAE;EACpB,MAAMC,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACF,YAAY,CAAC,CAACI,IAAI,CAAC,CAAC;EAC7C,KAAI,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGH,IAAI,CAACI,MAAM,EAAE,EAAED,EAAE,EAAE;IACtC,MAAME,IAAI,GAAGP,YAAY,CAACE,IAAI,CAACG,EAAE,CAAC,CAAC;IACnC;IACA,IAAG,CAACb,mBAAmB,CAACe,IAAI,CAAC,EAAE;MAC7BN,SAAS,CAACO,IAAI,CAACD,IAAI,CAAC;IACtB;EACF;EACA,OAAON,SAAS;AAClB,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}