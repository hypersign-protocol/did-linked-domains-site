{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/web.url-search-params.delete.js\");\nrequire(\"core-js/modules/web.url-search-params.has.js\");\nrequire(\"core-js/modules/web.url-search-params.size.js\");\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst verify_1 = require(\"./verification/verify\");\nconst dns01_1 = require(\"./DNS01/dns01\");\nclass DomainLinkageVerifier {\n  constructor(domain) {\n    if (!domain.startsWith('http')) {\n      domain = 'https://' + domain;\n    }\n    this.domain = new URL(domain);\n  }\n  verify(did) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const verify = new verify_1.Verify(did, this.domain.origin);\n      return yield verify.verify();\n    });\n  }\n  verifyDnsTxtRecord(url, txt) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield (0, dns01_1.verifyDNS01)(url, txt);\n    });\n  }\n}\nexports.default = DomainLinkageVerifier;","map":{"version":3,"names":["verify_1","require","dns01_1","DomainLinkageVerifier","constructor","domain","startsWith","URL","verify","did","Verify","origin","verifyDnsTxtRecord","url","txt","verifyDNS01","exports","default"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,QAAA,GAAAC,OAAA;AAEA,MAAAC,OAAA,GAAAD,OAAA;AACA,MAAqBE,qBAAqB;EAEtCC,YAAYC,MAAc;IAEtB,IAAG,CAACA,MAAM,CAACC,UAAU,CAAC,MAAM,CAAC,EAAC;MAC1BD,MAAM,GAAG,UAAU,GAAGA,MAAM;;IAGhC,IAAI,CAACA,MAAM,GAAG,IAAIE,GAAG,CAACF,MAAM,CAAC;EACjC;EACMG,MAAMA,CAACC,GAAW;;MACZ,MAAMD,MAAM,GAAG,IAAIR,QAAA,CAAAU,MAAM,CAACD,GAAG,EAAE,IAAI,CAACJ,MAAM,CAACM,MAAM,CAAC;MAC1D,OAAO,MAAMH,MAAM,CAACA,MAAM,EAAE;IAChC,CAAC;;EACKI,kBAAkBA,CAACC,GAAO,EAAEC,GAAU;;MACxC,OAAO,MAAM,IAAAZ,OAAA,CAAAa,WAAW,EAACF,GAAG,EAACC,GAAG,CAAE;IACtC,CAAC;;;AAhBLE,OAAA,CAAAC,OAAA,GAAAd,qBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}