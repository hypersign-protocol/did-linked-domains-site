{"ast":null,"code":"import { ApiOauth } from \"./APIOps\";\nimport { API_URL } from \"./constants\";\nasync function registerDID(didDocument, signature) {\n  try {\n    const response = await ApiOauth();\n    console.log(response);\n    const url = API_URL + 'api/v1/did/register';\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + response.access_token\n    };\n    const body = {\n      didDocument: didDocument,\n      signInfos: [{\n        signature: signature,\n        verification_method_id: didDocument.id + '#key-1'\n      }]\n    };\n    const resp = await fetch(url, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(body)\n    });\n    const txnResp = await resp.json();\n    return txnResp;\n  } catch (error) {\n    return error;\n  }\n}\nexport { registerDID };","map":{"version":3,"names":["ApiOauth","API_URL","registerDID","didDocument","signature","response","console","log","url","headers","access_token","body","signInfos","verification_method_id","id","resp","fetch","method","JSON","stringify","txnResp","json","error"],"sources":["/home/pratap/domain-linkege/src/scripts/DidOperations.js"],"sourcesContent":["import {ApiOauth} from \"./APIOps\";\n\nimport { API_URL } from \"./constants\";\n\n\n\nasync function registerDID(didDocument,signature){\n    try {\n        \n    \n    const response=await ApiOauth();\n    console.log(response);\n    const url=API_URL+'api/v1/did/register';\n    const headers={\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer '+response.access_token,\n\n    }\n\n    const body={\n        didDocument:didDocument,\n\n        signInfos:[{\n            signature:signature,\n            verification_method_id:didDocument.id+'#key-1',\n        }]\n    }\n\n    const resp=await fetch(url,{\n        method:'POST',\n        headers:headers,\n        body:JSON.stringify(body),\n    })\n\n    const txnResp=await resp.json();\n    return txnResp;\n} catch (error) {\n    return error\n        \n}\n}\n\nexport {registerDID}"],"mappings":"AAAA,SAAQA,QAAQ,QAAO,UAAU;AAEjC,SAASC,OAAO,QAAQ,aAAa;AAIrC,eAAeC,WAAWA,CAACC,WAAW,EAACC,SAAS,EAAC;EAC7C,IAAI;IAGJ,MAAMC,QAAQ,GAAC,MAAML,QAAQ,CAAC,CAAC;IAC/BM,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACrB,MAAMG,GAAG,GAACP,OAAO,GAAC,qBAAqB;IACvC,MAAMQ,OAAO,GAAC;MACV,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,SAAS,GAACJ,QAAQ,CAACK;IAExC,CAAC;IAED,MAAMC,IAAI,GAAC;MACPR,WAAW,EAACA,WAAW;MAEvBS,SAAS,EAAC,CAAC;QACPR,SAAS,EAACA,SAAS;QACnBS,sBAAsB,EAACV,WAAW,CAACW,EAAE,GAAC;MAC1C,CAAC;IACL,CAAC;IAED,MAAMC,IAAI,GAAC,MAAMC,KAAK,CAACR,GAAG,EAAC;MACvBS,MAAM,EAAC,MAAM;MACbR,OAAO,EAACA,OAAO;MACfE,IAAI,EAACO,IAAI,CAACC,SAAS,CAACR,IAAI;IAC5B,CAAC,CAAC;IAEF,MAAMS,OAAO,GAAC,MAAML,IAAI,CAACM,IAAI,CAAC,CAAC;IAC/B,OAAOD,OAAO;EAClB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZ,OAAOA,KAAK;EAEhB;AACA;AAEA,SAAQpB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}