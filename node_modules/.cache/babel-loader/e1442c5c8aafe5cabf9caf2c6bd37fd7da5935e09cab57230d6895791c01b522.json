{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupStakingExtension = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\nconst query_1 = require(\"cosmjs-types/cosmos/staking/v1beta1/query\");\nconst long_1 = __importDefault(require(\"long\"));\nconst utils_1 = require(\"./utils\");\nfunction setupStakingExtension(base) {\n  // Use this service to get easy typed access to query methods\n  // This cannot be used for proof verification\n  const rpc = (0, utils_1.createProtobufRpcClient)(base);\n  const queryService = new query_1.QueryClientImpl(rpc);\n  return {\n    staking: {\n      delegation: async (delegatorAddress, validatorAddress) => {\n        const response = await queryService.Delegation({\n          delegatorAddr: delegatorAddress,\n          validatorAddr: validatorAddress\n        });\n        return response;\n      },\n      delegatorDelegations: async (delegatorAddress, paginationKey) => {\n        const response = await queryService.DelegatorDelegations({\n          delegatorAddr: delegatorAddress,\n          pagination: (0, utils_1.createPagination)(paginationKey)\n        });\n        return response;\n      },\n      delegatorUnbondingDelegations: async (delegatorAddress, paginationKey) => {\n        const response = await queryService.DelegatorUnbondingDelegations({\n          delegatorAddr: delegatorAddress,\n          pagination: (0, utils_1.createPagination)(paginationKey)\n        });\n        return response;\n      },\n      delegatorValidator: async (delegatorAddress, validatorAddress) => {\n        const response = await queryService.DelegatorValidator({\n          delegatorAddr: delegatorAddress,\n          validatorAddr: validatorAddress\n        });\n        return response;\n      },\n      delegatorValidators: async (delegatorAddress, paginationKey) => {\n        const response = await queryService.DelegatorValidators({\n          delegatorAddr: delegatorAddress,\n          pagination: (0, utils_1.createPagination)(paginationKey)\n        });\n        return response;\n      },\n      historicalInfo: async height => {\n        const response = await queryService.HistoricalInfo({\n          height: long_1.default.fromNumber(height, true)\n        });\n        return response;\n      },\n      params: async () => {\n        const response = await queryService.Params({});\n        return response;\n      },\n      pool: async () => {\n        const response = await queryService.Pool({});\n        return response;\n      },\n      redelegations: async (delegatorAddress, sourceValidatorAddress, destinationValidatorAddress, paginationKey) => {\n        const response = await queryService.Redelegations({\n          delegatorAddr: delegatorAddress,\n          srcValidatorAddr: sourceValidatorAddress,\n          dstValidatorAddr: destinationValidatorAddress,\n          pagination: (0, utils_1.createPagination)(paginationKey)\n        });\n        return response;\n      },\n      unbondingDelegation: async (delegatorAddress, validatorAddress) => {\n        const response = await queryService.UnbondingDelegation({\n          delegatorAddr: delegatorAddress,\n          validatorAddr: validatorAddress\n        });\n        return response;\n      },\n      validator: async validatorAddress => {\n        const response = await queryService.Validator({\n          validatorAddr: validatorAddress\n        });\n        return response;\n      },\n      validatorDelegations: async (validatorAddress, paginationKey) => {\n        const response = await queryService.ValidatorDelegations({\n          validatorAddr: validatorAddress,\n          pagination: (0, utils_1.createPagination)(paginationKey)\n        });\n        return response;\n      },\n      validators: async (status, paginationKey) => {\n        const response = await queryService.Validators({\n          status: status,\n          pagination: (0, utils_1.createPagination)(paginationKey)\n        });\n        return response;\n      },\n      validatorUnbondingDelegations: async (validatorAddress, paginationKey) => {\n        const response = await queryService.ValidatorUnbondingDelegations({\n          validatorAddr: validatorAddress,\n          pagination: (0, utils_1.createPagination)(paginationKey)\n        });\n        return response;\n      }\n    }\n  };\n}\nexports.setupStakingExtension = setupStakingExtension;","map":{"version":3,"names":["query_1","require","long_1","__importDefault","utils_1","setupStakingExtension","base","rpc","createProtobufRpcClient","queryService","QueryClientImpl","staking","delegation","delegatorAddress","validatorAddress","response","Delegation","delegatorAddr","validatorAddr","delegatorDelegations","paginationKey","DelegatorDelegations","pagination","createPagination","delegatorUnbondingDelegations","DelegatorUnbondingDelegations","delegatorValidator","DelegatorValidator","delegatorValidators","DelegatorValidators","historicalInfo","height","HistoricalInfo","default","fromNumber","params","Params","pool","Pool","redelegations","sourceValidatorAddress","destinationValidatorAddress","Redelegations","srcValidatorAddr","dstValidatorAddr","unbondingDelegation","UnbondingDelegation","validator","Validator","validatorDelegations","ValidatorDelegations","validators","status","Validators","validatorUnbondingDelegations","ValidatorUnbondingDelegations","exports"],"sources":["../../src/queries/staking.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;AAAA;AACA,MAAAA,OAAA,GAAAC,OAAA;AAkBA,MAAAC,MAAA,GAAAC,eAAA,CAAAF,OAAA;AAGA,MAAAG,OAAA,GAAAH,OAAA;AAiDA,SAAgBI,qBAAqBA,CAACC,IAAiB;EACrD;EACA;EACA,MAAMC,GAAG,GAAG,IAAAH,OAAA,CAAAI,uBAAuB,EAACF,IAAI,CAAC;EACzC,MAAMG,YAAY,GAAG,IAAIT,OAAA,CAAAU,eAAe,CAACH,GAAG,CAAC;EAE7C,OAAO;IACLI,OAAO,EAAE;MACPC,UAAU,EAAE,MAAAA,CAAOC,gBAAwB,EAAEC,gBAAwB,KAAI;QACvE,MAAMC,QAAQ,GAAG,MAAMN,YAAY,CAACO,UAAU,CAAC;UAC7CC,aAAa,EAAEJ,gBAAgB;UAC/BK,aAAa,EAAEJ;SAChB,CAAC;QACF,OAAOC,QAAQ;MACjB,CAAC;MACDI,oBAAoB,EAAE,MAAAA,CAAON,gBAAwB,EAAEO,aAA0B,KAAI;QACnF,MAAML,QAAQ,GAAG,MAAMN,YAAY,CAACY,oBAAoB,CAAC;UACvDJ,aAAa,EAAEJ,gBAAgB;UAC/BS,UAAU,EAAE,IAAAlB,OAAA,CAAAmB,gBAAgB,EAACH,aAAa;SAC3C,CAAC;QACF,OAAOL,QAAQ;MACjB,CAAC;MACDS,6BAA6B,EAAE,MAAAA,CAAOX,gBAAwB,EAAEO,aAA0B,KAAI;QAC5F,MAAML,QAAQ,GAAG,MAAMN,YAAY,CAACgB,6BAA6B,CAAC;UAChER,aAAa,EAAEJ,gBAAgB;UAC/BS,UAAU,EAAE,IAAAlB,OAAA,CAAAmB,gBAAgB,EAACH,aAAa;SAC3C,CAAC;QACF,OAAOL,QAAQ;MACjB,CAAC;MACDW,kBAAkB,EAAE,MAAAA,CAAOb,gBAAwB,EAAEC,gBAAwB,KAAI;QAC/E,MAAMC,QAAQ,GAAG,MAAMN,YAAY,CAACkB,kBAAkB,CAAC;UACrDV,aAAa,EAAEJ,gBAAgB;UAC/BK,aAAa,EAAEJ;SAChB,CAAC;QACF,OAAOC,QAAQ;MACjB,CAAC;MACDa,mBAAmB,EAAE,MAAAA,CAAOf,gBAAwB,EAAEO,aAA0B,KAAI;QAClF,MAAML,QAAQ,GAAG,MAAMN,YAAY,CAACoB,mBAAmB,CAAC;UACtDZ,aAAa,EAAEJ,gBAAgB;UAC/BS,UAAU,EAAE,IAAAlB,OAAA,CAAAmB,gBAAgB,EAACH,aAAa;SAC3C,CAAC;QACF,OAAOL,QAAQ;MACjB,CAAC;MACDe,cAAc,EAAE,MAAOC,MAAc,IAAI;QACvC,MAAMhB,QAAQ,GAAG,MAAMN,YAAY,CAACuB,cAAc,CAAC;UACjDD,MAAM,EAAE7B,MAAA,CAAA+B,OAAI,CAACC,UAAU,CAACH,MAAM,EAAE,IAAI;SACrC,CAAC;QACF,OAAOhB,QAAQ;MACjB,CAAC;MACDoB,MAAM,EAAE,MAAAA,CAAA,KAAW;QACjB,MAAMpB,QAAQ,GAAG,MAAMN,YAAY,CAAC2B,MAAM,CAAC,EAAE,CAAC;QAC9C,OAAOrB,QAAQ;MACjB,CAAC;MACDsB,IAAI,EAAE,MAAAA,CAAA,KAAW;QACf,MAAMtB,QAAQ,GAAG,MAAMN,YAAY,CAAC6B,IAAI,CAAC,EAAE,CAAC;QAC5C,OAAOvB,QAAQ;MACjB,CAAC;MACDwB,aAAa,EAAE,MAAAA,CACb1B,gBAAwB,EACxB2B,sBAA8B,EAC9BC,2BAAmC,EACnCrB,aAA0B,KACxB;QACF,MAAML,QAAQ,GAAG,MAAMN,YAAY,CAACiC,aAAa,CAAC;UAChDzB,aAAa,EAAEJ,gBAAgB;UAC/B8B,gBAAgB,EAAEH,sBAAsB;UACxCI,gBAAgB,EAAEH,2BAA2B;UAC7CnB,UAAU,EAAE,IAAAlB,OAAA,CAAAmB,gBAAgB,EAACH,aAAa;SAC3C,CAAC;QACF,OAAOL,QAAQ;MACjB,CAAC;MACD8B,mBAAmB,EAAE,MAAAA,CAAOhC,gBAAwB,EAAEC,gBAAwB,KAAI;QAChF,MAAMC,QAAQ,GAAG,MAAMN,YAAY,CAACqC,mBAAmB,CAAC;UACtD7B,aAAa,EAAEJ,gBAAgB;UAC/BK,aAAa,EAAEJ;SAChB,CAAC;QACF,OAAOC,QAAQ;MACjB,CAAC;MACDgC,SAAS,EAAE,MAAOjC,gBAAwB,IAAI;QAC5C,MAAMC,QAAQ,GAAG,MAAMN,YAAY,CAACuC,SAAS,CAAC;UAAE9B,aAAa,EAAEJ;QAAgB,CAAE,CAAC;QAClF,OAAOC,QAAQ;MACjB,CAAC;MACDkC,oBAAoB,EAAE,MAAAA,CAAOnC,gBAAwB,EAAEM,aAA0B,KAAI;QACnF,MAAML,QAAQ,GAAG,MAAMN,YAAY,CAACyC,oBAAoB,CAAC;UACvDhC,aAAa,EAAEJ,gBAAgB;UAC/BQ,UAAU,EAAE,IAAAlB,OAAA,CAAAmB,gBAAgB,EAACH,aAAa;SAC3C,CAAC;QACF,OAAOL,QAAQ;MACjB,CAAC;MACDoC,UAAU,EAAE,MAAAA,CAAOC,MAAwB,EAAEhC,aAA0B,KAAI;QACzE,MAAML,QAAQ,GAAG,MAAMN,YAAY,CAAC4C,UAAU,CAAC;UAC7CD,MAAM,EAAEA,MAAM;UACd9B,UAAU,EAAE,IAAAlB,OAAA,CAAAmB,gBAAgB,EAACH,aAAa;SAC3C,CAAC;QACF,OAAOL,QAAQ;MACjB,CAAC;MACDuC,6BAA6B,EAAE,MAAAA,CAAOxC,gBAAwB,EAAEM,aAA0B,KAAI;QAC5F,MAAML,QAAQ,GAAG,MAAMN,YAAY,CAAC8C,6BAA6B,CAAC;UAChErC,aAAa,EAAEJ,gBAAgB;UAC/BQ,UAAU,EAAE,IAAAlB,OAAA,CAAAmB,gBAAgB,EAACH,aAAa;SAC3C,CAAC;QACF,OAAOL,QAAQ;MACjB;;GAEH;AACH;AAzGAyC,OAAA,CAAAnD,qBAAA,GAAAA,qBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}