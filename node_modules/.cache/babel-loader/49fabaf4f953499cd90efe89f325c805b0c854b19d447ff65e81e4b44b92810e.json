{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serializeSignDoc = exports.makeSignDoc = exports.sortedJsonStringify = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\nconst encoding_1 = require(\"@cosmjs/encoding\");\nconst math_1 = require(\"@cosmjs/math\");\nfunction sortedObject(obj) {\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n  if (Array.isArray(obj)) {\n    return obj.map(sortedObject);\n  }\n  const sortedKeys = Object.keys(obj).sort();\n  const result = {};\n  // NOTE: Use forEach instead of reduce for performance with large objects eg Wasm code\n  sortedKeys.forEach(key => {\n    result[key] = sortedObject(obj[key]);\n  });\n  return result;\n}\n/** Returns a JSON string with objects sorted by key */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction sortedJsonStringify(obj) {\n  return JSON.stringify(sortedObject(obj));\n}\nexports.sortedJsonStringify = sortedJsonStringify;\nfunction makeSignDoc(msgs, fee, chainId, memo, accountNumber, sequence) {\n  return {\n    chain_id: chainId,\n    account_number: math_1.Uint53.fromString(accountNumber.toString()).toString(),\n    sequence: math_1.Uint53.fromString(sequence.toString()).toString(),\n    fee: fee,\n    msgs: msgs,\n    memo: memo || \"\"\n  };\n}\nexports.makeSignDoc = makeSignDoc;\nfunction serializeSignDoc(signDoc) {\n  return (0, encoding_1.toUtf8)(sortedJsonStringify(signDoc));\n}\nexports.serializeSignDoc = serializeSignDoc;","map":{"version":3,"names":["encoding_1","require","math_1","sortedObject","obj","Array","isArray","map","sortedKeys","Object","keys","sort","result","forEach","key","sortedJsonStringify","JSON","stringify","exports","makeSignDoc","msgs","fee","chainId","memo","accountNumber","sequence","chain_id","account_number","Uint53","fromString","toString","serializeSignDoc","signDoc","toUtf8"],"sources":["../src/signdoc.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA;AACA,MAAAA,UAAA,GAAAC,OAAA;AACA,MAAAC,MAAA,GAAAD,OAAA;AA4BA,SAASE,YAAYA,CAACC,GAAQ;EAC5B,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAIA,GAAG,KAAK,IAAI,EAAE;IAC3C,OAAOA,GAAG;;EAEZ,IAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAAC,EAAE;IACtB,OAAOA,GAAG,CAACG,GAAG,CAACJ,YAAY,CAAC;;EAE9B,MAAMK,UAAU,GAAGC,MAAM,CAACC,IAAI,CAACN,GAAG,CAAC,CAACO,IAAI,EAAE;EAC1C,MAAMC,MAAM,GAAwB,EAAE;EACtC;EACAJ,UAAU,CAACK,OAAO,CAAEC,GAAG,IAAI;IACzBF,MAAM,CAACE,GAAG,CAAC,GAAGX,YAAY,CAACC,GAAG,CAACU,GAAG,CAAC,CAAC;EACtC,CAAC,CAAC;EACF,OAAOF,MAAM;AACf;AAEA;AACA;AACA,SAAgBG,mBAAmBA,CAACX,GAAQ;EAC1C,OAAOY,IAAI,CAACC,SAAS,CAACd,YAAY,CAACC,GAAG,CAAC,CAAC;AAC1C;AAFAc,OAAA,CAAAH,mBAAA,GAAAA,mBAAA;AAIA,SAAgBI,WAAWA,CACzBC,IAAyB,EACzBC,GAAW,EACXC,OAAe,EACfC,IAAwB,EACxBC,aAA8B,EAC9BC,QAAyB;EAEzB,OAAO;IACLC,QAAQ,EAAEJ,OAAO;IACjBK,cAAc,EAAEzB,MAAA,CAAA0B,MAAM,CAACC,UAAU,CAACL,aAAa,CAACM,QAAQ,EAAE,CAAC,CAACA,QAAQ,EAAE;IACtEL,QAAQ,EAAEvB,MAAA,CAAA0B,MAAM,CAACC,UAAU,CAACJ,QAAQ,CAACK,QAAQ,EAAE,CAAC,CAACA,QAAQ,EAAE;IAC3DT,GAAG,EAAEA,GAAG;IACRD,IAAI,EAAEA,IAAI;IACVG,IAAI,EAAEA,IAAI,IAAI;GACf;AACH;AAhBAL,OAAA,CAAAC,WAAA,GAAAA,WAAA;AAkBA,SAAgBY,gBAAgBA,CAACC,OAAmB;EAClD,OAAO,IAAAhC,UAAA,CAAAiC,MAAM,EAAClB,mBAAmB,CAACiB,OAAO,CAAC,CAAC;AAC7C;AAFAd,OAAA,CAAAa,gBAAA,GAAAA,gBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}