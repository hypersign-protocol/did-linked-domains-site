{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDefaultProvider = void 0;\nconst index_js_1 = require(\"../utils/index.js\");\nconst provider_ankr_js_1 = require(\"./provider-ankr.js\");\nconst provider_alchemy_js_1 = require(\"./provider-alchemy.js\");\nconst provider_cloudflare_js_1 = require(\"./provider-cloudflare.js\");\nconst provider_etherscan_js_1 = require(\"./provider-etherscan.js\");\nconst provider_infura_js_1 = require(\"./provider-infura.js\");\n//import { PocketProvider } from \"./provider-pocket.js\";\nconst provider_quicknode_js_1 = require(\"./provider-quicknode.js\");\nconst provider_fallback_js_1 = require(\"./provider-fallback.js\");\nconst provider_jsonrpc_js_1 = require(\"./provider-jsonrpc.js\");\nconst provider_websocket_js_1 = require(\"./provider-websocket.js\");\nfunction isWebSocketLike(value) {\n  return value && typeof value.send === \"function\" && typeof value.close === \"function\";\n}\nfunction getDefaultProvider(network, options) {\n  if (options == null) {\n    options = {};\n  }\n  if (typeof network === \"string\" && network.match(/^https?:/)) {\n    return new provider_jsonrpc_js_1.JsonRpcProvider(network);\n  }\n  if (typeof network === \"string\" && network.match(/^wss?:/) || isWebSocketLike(network)) {\n    return new provider_websocket_js_1.WebSocketProvider(network);\n  }\n  const providers = [];\n  if (options.alchemy !== \"-\") {\n    try {\n      providers.push(new provider_alchemy_js_1.AlchemyProvider(network, options.alchemy));\n    } catch (error) {}\n  }\n  if (options.ankr !== \"-\" && options.ankr != null) {\n    try {\n      providers.push(new provider_ankr_js_1.AnkrProvider(network, options.ankr));\n    } catch (error) {}\n  }\n  if (options.cloudflare !== \"-\") {\n    try {\n      providers.push(new provider_cloudflare_js_1.CloudflareProvider(network));\n    } catch (error) {}\n  }\n  if (options.etherscan !== \"-\") {\n    try {\n      providers.push(new provider_etherscan_js_1.EtherscanProvider(network, options.etherscan));\n    } catch (error) {}\n  }\n  if (options.infura !== \"-\") {\n    try {\n      let projectId = options.infura;\n      let projectSecret = undefined;\n      if (typeof projectId === \"object\") {\n        projectSecret = projectId.projectSecret;\n        projectId = projectId.projectId;\n      }\n      providers.push(new provider_infura_js_1.InfuraProvider(network, projectId, projectSecret));\n    } catch (error) {}\n  }\n  /*\n      if (options.pocket !== \"-\") {\n          try {\n              let appId = options.pocket;\n              let secretKey: undefined | string = undefined;\n              let loadBalancer: undefined | boolean = undefined;\n              if (typeof(appId) === \"object\") {\n                  loadBalancer = !!appId.loadBalancer;\n                  secretKey = appId.secretKey;\n                  appId = appId.appId;\n              }\n              providers.push(new PocketProvider(network, appId, secretKey, loadBalancer));\n          } catch (error) { console.log(error); }\n      }\n  */\n  if (options.quicknode !== \"-\") {\n    try {\n      let token = options.quicknode;\n      providers.push(new provider_quicknode_js_1.QuickNodeProvider(network, token));\n    } catch (error) {}\n  }\n  (0, index_js_1.assert)(providers.length, \"unsupported default network\", \"UNSUPPORTED_OPERATION\", {\n    operation: \"getDefaultProvider\"\n  });\n  if (providers.length === 1) {\n    return providers[0];\n  }\n  return new provider_fallback_js_1.FallbackProvider(providers);\n}\nexports.getDefaultProvider = getDefaultProvider;","map":{"version":3,"names":["index_js_1","require","provider_ankr_js_1","provider_alchemy_js_1","provider_cloudflare_js_1","provider_etherscan_js_1","provider_infura_js_1","provider_quicknode_js_1","provider_fallback_js_1","provider_jsonrpc_js_1","provider_websocket_js_1","isWebSocketLike","value","send","close","getDefaultProvider","network","options","match","JsonRpcProvider","WebSocketProvider","providers","alchemy","push","AlchemyProvider","error","ankr","AnkrProvider","cloudflare","CloudflareProvider","etherscan","EtherscanProvider","infura","projectId","projectSecret","undefined","InfuraProvider","quicknode","token","QuickNodeProvider","assert","length","operation","FallbackProvider","exports"],"sources":["../../src.ts/providers/default-provider.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}